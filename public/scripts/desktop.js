!function t(e,n,r){function i(o,a){if(!n[o]){if(!e[o]){var c="function"==typeof require&&require;if(!a&&c)return c(o,!0);if(s)return s(o,!0);throw new Error("Cannot find module '"+o+"'")}var u=n[o]={exports:{}};e[o][0].call(u.exports,function(t){var n=e[o][1][t];return i(n?n:t)},u,u.exports,t,e,n,r)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(t,e,n){var r,i,s,o,a,c;c=t("../socket"),i=t("../encryption"),a=t("./qrcode"),o=t("./layout"),s=t("../keys"),r=function(){function t(){this.socket=new c,this.encryption=new i,this.qrCode=new a,this.keys=new s,this.layout=new o(this.socket,this.keys),$("#visual-key-recreate").on("click",function(t){return function(){return t.generateQRCode(),!1}}(this)),this.generateQRCode(),this.socket.io.on("paired",function(t){return function(){return t.layout.onPaired()}}(this)),this.socket.io.on("stats",function(t){return function(e){return t.layout.updateStats(e)}}(this)),this.socket.io.emit("connect",{pairId:this.keys.pairId,deviceType:"desktop"}),this.socket.io.on("message",function(t){return function(t){switch(t.name){case"next":return $("#slider").cycle("next");case"prev":return $("#slider").cycle("prev")}}}(this)),$("#slider").on("cycle-after",function(t){return function(e,n,r,i){var s,o;return o=$(i).attr("src"),s=t.encryption.encryptAes(o,t.keys.encryptionKey),t.socket.io.emit("message",{pairId:t.keys.pairId,name:"update",data:s})}}(this))}return t.prototype.generateQRCode=function(){var t;return t=this.keys.generateVisualKey(),this.qrCode.generateCode(this.keys.pairId,this.keys.encryptionKey,t),this.layout.setVisualKey(t)},t}(),jQuery(function(){return new r})},{"../encryption":4,"../keys":5,"../socket":6,"./layout":2,"./qrcode":3}],2:[function(t,e,n){var r;e.exports=r=function(){function t(t,e){var n,r,i,s,o,a;this.socket=t,this.keys=e,this.winEl=$(window),this.bannerEl=$("#banner"),this.qrEl=$("#top-wrapper"),this.navigationEl=$("#navigation-wrapper"),a=$("#navigation a:first",this.navigationEl),r=$("#navigation a",this.navigationEl),this.qrEl.waypoint(function(t){return function(e){return"down"===e?t.downsizeBanner():(t.upsizeBanner(),r.removeClass("current"),a.addClass("current"))}}(this),{offset:-100}),r.not(":first").smoothScroll({speed:200}),n=function(t){var e;return e=t.attr("id"),r.removeClass("current"),r.parent().find("a[href='#"+e+"']").addClass("current")},$(".try-it-out").hover(function(t){return function(){return t.bannerEl.addClass("shake shake-little shake-constant")}}(this),function(t){return function(){return t.bannerEl.removeClass("shake shake-little shake-constant")}}(this)).on("click",function(){return $("html,body").animate({scrollTop:0},"fast",function(){return r.removeClass("current"),a.addClass("current")}),!1}),i=$("#content .section"),i.waypoint(function(t){return"down"===t?n($(this)):void 0},{offset:50}),i.waypoint(function(t){return"up"===t?n($(this)):void 0},{offset:"-80%"}),o=$("#slider"),o.cycle({timeout:1e3,prev:"#slider-prev",next:"#slider-next"}),o.on("cycle-after",function(t){return function(t,e,n,r){var i;return i=$(r).attr("src"),$("#current-image img").attr("src",i)}}(this)),o.cycle("pause"),s=this,$("#slider-play").on("click",function(){var t;return t=$(this),t.hasClass("playing")?(o.cycle("pause"),t.removeClass("playing"),t.html('<i class="fa fa-play"></i>'),s.socket.io.emit("message",{pairId:s.keys.pairId,name:"pause",data:{}})):(o.cycle("resume"),t.addClass("playing"),t.html('<i class="fa fa-pause"></i>'),s.socket.io.emit("message",{pairId:s.keys.pairId,name:"play",data:{}})),!1}),this.statsEl=$("#stats"),this.visitsEl=$("#stats-visits",this.statsEl),this.pairsEl=$("#stats-pairings",this.statsEl),$("#reset a").on("click",function(){return localStorage.clear(),location.href="/",!1})}return t.prototype.downsizeBanner=function(){return this.bannerEl.animate({height:110},"fast"),$("img",this.bannerEl).animate({top:"-300px"},"fast"),this.navigationEl.animate({top:"-15px"},"fast",function(t){return function(){return t.navigationEl.addClass("small")}}(this)),this.qrEl.fadeOut(100)},t.prototype.upsizeBanner=function(){return this.bannerEl.animate({height:"80%"},"fast"),$("img",this.bannerEl).animate({top:"-100px"},"fast"),this.navigationEl.animate({top:"80%"},"fast",function(t){return function(){return t.navigationEl.removeClass("small")}}(this)),this.qrEl.fadeIn(100)},t.prototype.updateStats=function(t){return this.visitsEl.text(t.visits),this.pairsEl.text(t.pairs),this.statsEl.fadeIn("slow")},t.prototype.onPaired=function(){var t;return t=$("html,body"),t.animate({scrollTop:200},"fast",function(){return $("body").addClass("paired"),setTimeout(function(){return t.animate({scrollTop:0},"fast")},100)})},t.prototype.setVisualKey=function(t){return $("#visual-key").text(t)},t}()},{}],3:[function(t,e,n){var r,i;r=t("../encryption"),e.exports=i=function(){function t(){this.encryption=new r,this.qrEl=$("#qr-code"),this.qrCode=new QRCode(this.qrEl.get(0),{text:"pairs.io",width:300,height:300}),this.rootUrl="http://192.168.2.105:9000","pairs.io"===location.hostname&&(this.rootUrl="http://pairs.io")}return t.prototype.generateCode=function(t,e,n){var r,i,s;return s=JSON.stringify({pId:t,eKey:e}),i=this.encryption.encryptAes(s,n),r=Base64.encode(i),this.qrCode.clear(),this.qrCode.makeCode(""+this.rootUrl+"/remote.html#"+r),this.qrEl.attr("title","")},t}()},{"../encryption":4}],4:[function(t,e,n){var r;e.exports=r=function(){function t(){}return t.prototype.randString=function(t){return null==t&&(t=16),Math.random().toString(36).substr(2,t)},t.prototype.encryptAes=function(t,e){return GibberishAES.enc(t,e)},t.prototype.decryptAes=function(t,e){return GibberishAES.dec(t,e)},t}()},{}],5:[function(t,e,n){var r,i;r=t("./encryption"),e.exports=i=function(){function t(){this.encryption=new r,this.initKey("pairId"),this.initKey("encryptionKey"),this.visualKey=this.generateVisualKey()}return t.prototype.initKey=function(t){var e;return e=localStorage.getItem(t),e||(e=this.encryption.randString()),this.setKey(t,e)},t.prototype.setKey=function(t,e){return localStorage.setItem(t,e),this[t]=e},t.prototype.generateVisualKey=function(){return this.visualKey=this.encryption.randString(5),this.visualKey},t.prototype.decryptWithVisualKey=function(t,e){var n,r,i,s,o;o=!1;try{i=Base64.decode(e),n=this.encryption.decryptAes(i,t),s=JSON.parse(n),this.setKey("pairId",s.pId),this.setKey("encryptionKey",s.eKey),this.visualKey=t,o=!0}catch(a){r=a}return o},t.prototype.clear=function(){return localStorage.clear()},t}()},{"./encryption":4}],6:[function(t,e,n){var r;e.exports=r=function(){function t(){"pairs.io"===location.hostname&&(this.socketUrl="http://pairs.io:12222"),this.io=io.connect(this.socketUrl)}return t.prototype.socketUrl="192.168.2.105:12222",t}()},{}]},{},[1]);