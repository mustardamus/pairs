!function t(e,n,r){function i(s,c){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!c&&u)return u(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var a=n[s]={exports:{}};e[s][0].call(a.exports,function(t){var n=e[s][1][t];return i(n?n:t)},a,a.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e){var n;e.exports=n=function(){function t(){}return t.prototype.randString=function(t){return null==t&&(t=16),Math.random().toString(36).substr(2,t)},t.prototype.encryptAes=function(t,e){return GibberishAES.enc(t,e)},t.prototype.decryptAes=function(t,e){return GibberishAES.dec(t,e)},t}()},{}],2:[function(t,e){var n,r;n=t("./encryption"),e.exports=r=function(){function t(){this.encryption=new n,this.initKey("pairId"),this.initKey("encryptionKey"),this.visualKey=this.generateVisualKey()}return t.prototype.initKey=function(t){var e;return e=localStorage.getItem(t),e||(e=this.encryption.randString()),this.setKey(t,e)},t.prototype.setKey=function(t,e){return localStorage.setItem(t,e),this[t]=e},t.prototype.generateVisualKey=function(){return this.visualKey=this.encryption.randString(5),this.visualKey},t.prototype.decryptWithVisualKey=function(t,e){var n,r,i,o,s;s=!1;try{i=Base64.decode(e),n=this.encryption.decryptAes(i,t),o=JSON.parse(n),this.setKey("pairId",o.pId),this.setKey("encryptionKey",o.eKey),this.visualKey=t,s=!0}catch(c){r=c}return s},t.prototype.clear=function(){return localStorage.clear()},t}()},{"./encryption":1}],3:[function(t,e){var n;e.exports=n=function(){function t(){var t,e;e=$(window),t=$("#playing img"),e.on("resize",function(){return t.height(e.height())}),e.trigger("resize")}return t.prototype.onPaired=function(){return $("body").addClass("paired")},t}()},{}],4:[function(t){var e,n,r,i,o;o=t("../socket"),e=t("../encryption"),n=t("../keys"),r=t("./layout"),i=function(){function t(){var t,i,s;this.socket=new o,this.encryption=new e,this.keys=new n,this.layout=new r,this.socket.io.on("paired",function(t){return function(){return t.layout.onPaired()}}(this)),this.socket.io.on("message",function(t){return function(e){var n;return n=t.encryption.decryptAes(e.data,t.keys.encryptionKey),$("#playing img").attr("src",n),console.log(e)}}(this)),t=location.hash,0!==t.length?this.hashData=t.split("#")[1]:localStorage.getItem("pairId")?this.connect():($("#nohash").show(),$("#visual-key-wrapper").hide()),i=$("#visual-key-wrapper .error"),s=$("#visual-key-input"),$("#visual-key-form").on("submit",function(t){return function(e){var n,r;return t.hashData&&(n=s.val(),r=t.keys.decryptWithVisualKey(n,t.hashData),r===!0?(t.connect(),i.hide()):i.show()),e.preventDefault(),!1}}(this)),$("#reset").on("click",function(t){return function(){return t.keys.clear(),!1}}(this)),$("#button-dim").click(function(t){return function(){return t.sendCommand({command:"dim",event:"click",selector:"#button-dim"}),!1}}(this))}return t.prototype.connect=function(){return this.socket.io.emit("connect",{pairId:this.keys.pairId,deviceType:"remote"})},t.prototype.sendCommand=function(t){var e,n,r;return e=this.encryption.encryptAes(t.command,this.keys.encryptionKey),n=this.encryption.encryptAes(t.event,this.keys.encryptionKey),r=this.encryption.encryptAes(t.selector,this.keys.encryptionKey),this.socket.io.emit("message",{command:e,event:n,selector:r,pairId:this.keys.pairId})},t}(),jQuery(function(){return new i})},{"../encryption":1,"../keys":2,"../socket":5,"./layout":3}],5:[function(t,e){var n;e.exports=n=function(){function t(){"pairs.io"===location.hostname&&(this.socketUrl="http://pairs.io:12222"),this.io=io.connect(this.socketUrl)}return t.prototype.socketUrl="http://192.168.0.10:12222",t}()},{}]},{},[4]);