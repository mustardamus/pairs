!function t(e,n,i){function r(s,c){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!c&&u)return u(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var a=n[s]={exports:{}};e[s][0].call(a.exports,function(t){var n=e[s][1][t];return r(n?n:t)},a,a.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e){var n;e.exports=n=function(){function t(){}return t.prototype.randString=function(t){return null==t&&(t=16),Math.random().toString(36).substr(2,t)},t.prototype.encryptAes=function(t,e){return GibberishAES.enc(t,e)},t.prototype.decryptAes=function(t,e){return GibberishAES.dec(t,e)},t}()},{}],2:[function(t,e){var n,i;n=t("./encryption"),e.exports=i=function(){function t(){this.encryption=new n,this.initKey("pairId"),this.initKey("encryptionKey"),this.visualKey=this.generateVisualKey()}return t.prototype.initKey=function(t){var e;return e=localStorage.getItem(t),e||(e=this.encryption.randString()),this.setKey(t,e)},t.prototype.setKey=function(t,e){return localStorage.setItem(t,e),this[t]=e},t.prototype.generateVisualKey=function(){return this.visualKey=this.encryption.randString(5),this.visualKey},t.prototype.decryptWithVisualKey=function(t,e){var n,i,r,o,s;s=!1;try{r=Base64.decode(e),n=this.encryption.decryptAes(r,t),o=JSON.parse(n),this.setKey("pairId",o.pId),this.setKey("encryptionKey",o.eKey),this.visualKey=t,s=!0}catch(c){i=c}return s},t}()},{"./encryption":1}],3:[function(t,e){var n;e.exports=n=function(){function t(){$("#visual-code-input").focus(),$("#button-dim").click(function(){var t;return t=$(this).children("span"),"Off"===t.text()?(t.text("On"),t.addClass("dim-on"),t.removeClass("dim-off")):(t.text("Off"),t.addClass("dim-off"),t.removeClass("dim-on")),!1})}return t.prototype.onPaired=function(){return $(".logo").addClass("paired"),$("body").addClass("isPaired")},t}()},{}],4:[function(t){var e,n,i,r,o;o=t("../socket"),e=t("../encryption"),n=t("../keys"),i=t("./layout"),r=function(){function t(){var t;this.socket=new o,this.encryption=new e,this.keys=new n,this.layout=new i,this.socket.io.on("paired",function(t){return function(){return t.layout.onPaired()}}(this)),t=location.hash,0!==t.length&&(this.hashData=t.split("#")[1]),$("#visual-code").on("submit",function(t){return function(e){var n,i;return t.hashData&&(n=$("#visual-code-input").val(),i=t.keys.decryptWithVisualKey(n,t.hashData),i===!0&&t.connect()),e.preventDefault(),!1}}(this)),$("#button-dim").click(function(t){return function(){return t.sendCommand({command:"dim",event:"click",selector:"#button-dim"}),!1}}(this))}return t.prototype.connect=function(){return this.socket.io.emit("connect",{pairId:this.keys.pairId,deviceType:"remote"})},t.prototype.sendCommand=function(t){var e,n,i;return e=this.encryption.encryptAes(t.command,this.keys.encryptionKey),n=this.encryption.encryptAes(t.event,this.keys.encryptionKey),i=this.encryption.encryptAes(t.selector,this.keys.encryptionKey),this.socket.io.emit("message",{command:e,event:n,selector:i,pairId:this.keys.pairId})},t}(),jQuery(function(){return new r})},{"../encryption":1,"../keys":2,"../socket":5,"./layout":3}],5:[function(t,e){var n;e.exports=n=function(){function t(){"pairs.io"===location.hostname&&(this.socketUrl="http://pairs.io:12222"),this.io=io.connect(this.socketUrl)}return t.prototype.socketUrl="http://192.168.0.13:12222",t}()},{}]},{},[4]);